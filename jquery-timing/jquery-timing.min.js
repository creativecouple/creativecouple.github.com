(function(c,h){var s="__timeouts",v="__intervals",m="string",x=undefined,l="fx",t={};function j(y){return typeof y=="object"}function a(y){return typeof y=="function"}function f(A,z){A=A||[];for(var y=0;y<A.length;y++){if(A[y]===z){if(y<A.length-1){A[y]=A.pop();y--}else{A.pop()}}}return A}function r(z,y){z=z||[];z.push(y);return z}function e(A){var z={},y={l:t,i:z},B;for(B in A){if(a(A[B])){(function(C){z[C]=function(){y=y.h={g:C,a:arguments,l:t};return z}})(B)}}return y}function q(z,B,y){g(B,z.b,y);if(!z.h){for(;y&&(y.l===t)&&j(y.k);y=y.j){if(!y.k.e){B=y.c;z=y.f;y.d++;g(B,z.b,y);break}}}for(var E=z.h,A=B,C=y,F,D;E;E=E.h){g(A,E.b,C);F=A[E.g];if(F===b){D=b.call(A,E.a[0],C);if(D){if(j(C.k)){C.k.e=true}else{h.clearInterval(C.k)}C.c.each(function(){f(c(this).data(v),C.k)});C=D}else{if(j(C.k)){E={}}else{break}}}else{if(F===i){i.call(A,E.a[0],E.a[1],E.a[2],C,E);break}else{if((F===p)||(F===n)){F.call(A,E.a[0],E.a[1],C,E);break}else{if(F===u){A=u.call(A,E.a[0],C)}else{A=F.apply(A,E.a)}}}}if(!E.h){for(;C&&(C.l===t)&&j(C.k);C=C.j){if(!C.k.e){A=C.c;E=C.f;C.d++;g(A,E.b,C);break}}}}}function p(C,E,y,A){if(a(C)){E=C;C=0}var B=this,z=(A&&A.l===t)?A:e(B),D;z.b=E;D=h.setTimeout(function(){q(z,B,y);B.each(function(){f(c(this).data(s),D)})},Math.max(0,C||0));B.each(function(){c(this).data(s,r(c(this).data(s),D))});return z.i}function w(){return this.each(function(){var y=c(this).data(s);while(y&&y.length){h.clearTimeout(y.pop())}})}function i(E,B,F,y,A){if(a(E)){F=E;E=0}if(a(B)){F=B;B=false}var C=this,z=(A&&A.l===t)?A:e(C);y={d:-1,c:C,j:(y&&(y.l===t))?y:{},l:t,f:z};function D(){y.d++;q(z,C,y)}z.b=F;if(B||!E){h.setTimeout(D,0)}y.k=E?h.setInterval(D,Math.max(0,E)):{e:false};C.each(function(){c(this).data(v,r(c(this).data(v),y.k))});return z.i}function d(){return this.each(function(){var y=c(this).data(v),z;while(y&&y.length){z=y.pop();if(j(z)){z.e=true}else{h.clearInterval(z)}}})}function g(A,C,y){if(a(C)){var z=[],B;for(B=y;B&&(B.l===t);B=B.j){z.push(B.d)}return C.apply(A,z)}}function b(z,y){if(!y||y.l!==t){throw new Error(".until() method cannot be called without previous use of .repeat()")}if(z===x){z=this.length<=0}if(a(z)){z=g(this,z,y)}if(j(z)){z=z.toString()}if(typeof z=="number"){z=y.d>=z-1}return z?y.j:false}function u(z,y){g(this,z,y);return this}function n(C,D,y,A){if(C===x){C=l}else{if(a(C)){D=C;C=l}}var B=this,z=(A&&A.l===t)?A:e(B);z.b=D;h.setTimeout(function(){B.queue(C,function(E){q(z,B,y);E()})},0);return z.i}function o(y,A,z){if(typeof y==m){Array.prototype.shift.apply(z)}else{y=""}t[y]=t[y]||c("<div>");return A.apply(t[y],z)}c.fn.extend({wait:p,unwait:w,repeat:i,unrepeat:d,until:b,then:u,join:n,$:c});c.extend({wait:function(y){return o(y,p,arguments)},unwait:function(y){return o(y,w,arguments)},repeat:function(y){return o(y,i,arguments)},unrepeat:function(y){return o(y,d,arguments)},then:function(y){return o(y,u,arguments)}});function k(B,z){if(typeof B==m){B=new Function("x","return "+B)}var y=a(z),C=a(B),A=function(D){if(arguments.length){A.value=D;if(y){z(D)}}return A.toString()};A.toString=function(){var D=y?z():A.value;return C?B(D):D};A.$={toString:A.toString};A.mod=function(D){return k(function(E){return E%D},A)};A.plus=function(D){return k(function(E){return E+D},A)};A.neg=function(){return k(function(D){return -D},A)};return A}h.$$=k})(jQuery,window);